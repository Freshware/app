<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<title></title>
		<meta name="description" content="">
		<meta name="viewport" content="width=device-width">
        <link rel="stylesheet" type="text/css" href="../js/jquery-ui-1.12.1/jquery-ui.min.css" />
        <link rel="stylesheet" type="text/css" href="../libraries/bootstrap-3.3.7-dist/css/bootstrap.min.css" />
        <link rel="stylesheet" type="text/css" href="../css/app.css" />
	</head>
	<body id="body">
		<div class="container-fluid main-container height100">
			<div class="whiteSpace text-center">
				<a href="../index.html">
					<img src="../img/common/logo.png" alt="Krion" class="logo-sup">
				</a>
			</div>
			<div class="menu-link height100">
				<button class="c-hamburger c-hamburger--htx">
					<span>toggle menu</span>
				</button>
			</div>

			<div class="row krion height100">
				<div class="col-xs-6">
					<img src="../img/1-krion/1-1/pics/que-es-krion.jpg" alt="Krion">
				</div>
				<div class="col-xs-6 info-side height100">
					<div class="col-xs-10 col-xs-offset-1 height100">
						<div class="contenedor-info">
							<div class="contenedor-info-item contenedor-info-item-active" data-target="1">
								<h2>¿Qué es Krion?</h2>
								<h3>Krion<sup>®</sup> es la superficie sólida del Grupo Porcelanosa</h3>
								<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Suscipit vel quia minima eveniet quos dolores, perferendis impedit reiciendis. Excepturi, vitae, aspernatur. At possimus pariatur unde labore neque quos aut non.</p>
								<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Suscipit vel quia minima eveniet quos dolores, perferendis impedit reiciendis. Excepturi, vitae, aspernatur. At possimus pariatur unde labore neque quos aut non. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quasi blanditiis aut deserunt sunt! Illo dolores suscipit placeat iure veritatis reprehenderit neque, quisquam necessitatibus ullam perferendis sit quo rem recusandae illum.</p>
								<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Suscipit vel quia minima eveniet quos dolores, perferendis impedit reiciendis. Excepturi, vitae, aspernatur. At possimus pariatur unde labore neque quos aut non.</p>
								<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Suscipit vel quia minima eveniet quos dolores, perferendis impedit reiciendis. Excepturi, vitae, aspernatur. At possimus pariatur unde labore neque quos aut non.</p>
							</div>
							<div class="contenedor-info-item" data-target="2">
								<h2>lalalalala</h2>
								<h3>yqyqyqyqyqyq</h3>
								<p>Donec id elit non mi porta gravida at eget metus. Cras mattis consectetur purus sit amet fermentum. Donec ullamcorper nulla non metus auctor fringilla. Maecenas sed diam eget risus varius blandit sit amet non magna. Donec ullamcorper nulla non metus auctor fringilla. Aenean eu leo quam. Pellentesque ornare sem lacinia quam venenatis vestibulum.</p>
								<p>Integer posuere erat a ante venenatis dapibus posuere velit aliquet. Maecenas sed diam eget risus varius blandit sit amet non magna. Nulla vitae elit libero, a pharetra augue. Duis mollis, est non commodo. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ullam quia dolores, vel ratione? Deserunt suscipit repudiandae ex, maiores iste sit inventore! Minima rerum animi eligendi asperiores recusandae quidem dignissimos autem.</p>
								<p>Aenean eu leo quam. Pellentesque ornare sem lacinia quam venenatis vestibulum. Cras mattis consectetur purus sit amet fermentum. Aenean lacinia bibendum nulla sed consectetur. Curabitur blandit tempus porttitor. Duis mollis, est non commodo luctus, nisi erat porttitor ligula, eget lacinia odio sem nec elit. Integer posuere erat a ante venenatis dapibus posuere velit aliquet.</p>
							</div>
							<div class="contenedor-info-item" data-target="3">
								<h2>lololololo</h2>
								<h3>qeqeqeqqeqe</h3>
								<p>Donec id elit non mi porta gravida at eget metus. Cras mattis consectetur purus sit amet fermentum. Donec ullamcorper nulla non metus auctor fringilla. Maecenas sed diam eget risus varius blandit sit amet non magna. Donec ullamcorper nulla non metus auctor fringilla. Aenean eu leo quam. Pellentesque ornare sem lacinia quam venenatis vestibulum.</p>
								<p>Integer posuere erat a ante venenatis dapibus posuere velit aliquet. Maecenas sed diam eget risus varius blandit sit amet non magna. Nulla vitae elit libero, a pharetra augue. Duis mollis, est non commodo. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ullam quia dolores, vel ratione? Deserunt suscipit repudiandae ex, maiores iste sit inventore! Minima rerum animi eligendi asperiores recusandae quidem dignissimos autem.</p>
								<p>Aenean eu leo quam. Pellentesque ornare sem lacinia quam venenatis vestibulum. Cras mattis consectetur purus sit amet fermentum. Aenean lacinia bibendum nulla sed consectetur. Curabitur blandit tempus porttitor. Duis mollis, est non commodo luctus, nisi erat porttitor ligula, eget lacinia odio sem nec elit. Integer posuere erat a ante venenatis dapibus posuere velit aliquet.</p>
							</div>
							<div class="contenedor-info-item" data-target="4">
								<h2>mkmkmkmkkmk</h2>
								<h3>sdsdsdsdsdd</h3>
								<p>Donec id elit non mi porta gravida at eget metus. Cras mattis consectetur purus sit amet fermentum. Donec ullamcorper nulla non metus auctor fringilla. Maecenas sed diam eget risus varius blandit sit amet non magna. Donec ullamcorper nulla non metus auctor fringilla. Aenean eu leo quam. Pellentesque ornare sem lacinia quam venenatis vestibulum.</p>
								<p>Integer posuere erat a ante venenatis dapibus posuere velit aliquet. Maecenas sed diam eget risus varius blandit sit amet non magna. Nulla vitae elit libero, a pharetra augue. Duis mollis, est non commodo. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ullam quia dolores, vel ratione? Deserunt suscipit repudiandae ex, maiores iste sit inventore! Minima rerum animi eligendi asperiores recusandae quidem dignissimos autem.</p>
								<p>Aenean eu leo quam. Pellentesque ornare sem lacinia quam venenatis vestibulum. Cras mattis consectetur purus sit amet fermentum. Aenean lacinia bibendum nulla sed consectetur. Curabitur blandit tempus porttitor. Duis mollis, est non commodo luctus, nisi erat porttitor ligula, eget lacinia odio sem nec elit. Integer posuere erat a ante venenatis dapibus posuere velit aliquet.</p>
							</div>
							<div class="contenedor-info-item" data-target="5">
								<h2>jsjsjsjsjs</h2>
								<h3>mdmdmdmdmdm</h3>
								<p>Donec id elit non mi porta gravida at eget metus. Cras mattis consectetur purus sit amet fermentum. Donec ullamcorper nulla non metus auctor fringilla. Maecenas sed diam eget risus varius blandit sit amet non magna. Donec ullamcorper nulla non metus auctor fringilla. Aenean eu leo quam. Pellentesque ornare sem lacinia quam venenatis vestibulum.</p>
								<p>Integer posuere erat a ante venenatis dapibus posuere velit aliquet. Maecenas sed diam eget risus varius blandit sit amet non magna. Nulla vitae elit libero, a pharetra augue. Duis mollis, est non commodo. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ullam quia dolores, vel ratione? Deserunt suscipit repudiandae ex, maiores iste sit inventore! Minima rerum animi eligendi asperiores recusandae quidem dignissimos autem.</p>
								<p>Aenean eu leo quam. Pellentesque ornare sem lacinia quam venenatis vestibulum. Cras mattis consectetur purus sit amet fermentum. Aenean lacinia bibendum nulla sed consectetur. Curabitur blandit tempus porttitor. Duis mollis, est non commodo luctus, nisi erat porttitor ligula, eget lacinia odio sem nec elit. Integer posuere erat a ante venenatis dapibus posuere velit aliquet.</p>
							</div>
						</div>
						<div class="contenedor-bullets">
							<div class="contenedor-menu-bullets">
								<ul>
									<li>
										<a href="#" data-target="1" class="menu-link-anchor"><span class="glyphicon glyphicon-record" aria-hidden="true"></span></a>
									</li>
									<li>
										<a href="#" data-target="2" class="menu-link-anchor"><span class="glyphicon glyphicon-record" aria-hidden="true"></span></a>
									</li>
									<li>
										<a href="#" data-target="3" class="menu-link-anchor"><span class="glyphicon glyphicon-record" aria-hidden="true"></span></a>
									</li>
									<li>
										<a href="#" data-target="4" class="menu-link-anchor"><span class="glyphicon glyphicon-record" aria-hidden="true"></span></a>
									</li>
									<li>
										<a href="#" data-target="5" class="menu-link-anchor"><span class="glyphicon glyphicon-record" aria-hidden="true"></span></a>
									</li>
								</ul>
							</div>
						</div>
					</div>
				</div>
			</div>

		<!-- Modal -->
		<div class="modal fade" id="completeImgModal" tabindex="-1" role="dialog" aria-labelledby="completeImgModalLabel">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-body">
						<h4>
							Esta aplicación contiene más imágenes de las que descargadas por defecto en la instalación básica de la misma.<br>Si las desea puede descargarlas haciendo click en el botón descargar.
						</h4>
						<button class="btn btn-lg btn-success" id="startMainDownload">
							Descargar
						</button>
					</div>
				</div>
			</div>
		</div>

		<script src="../js/jquery-3.1.1.min.js"></script>
		<script src="../js/jquery-ui-1.12.1/jquery-ui.min.js"></script>
		<script src="../libraries/bootstrap-3.3.7-dist/js/bootstrap.min.js"></script>
		<script src="../libraries/TouchSwipe-Jquery-Plugin-master/jquery.touchSwipe.min.js"></script>
		<script src="../cordova.js"></script>
		<script src="../js/app.js"></script>
		<script type="text/javascript">
			$(function() {
				$('.contenedor-info-item').swipe({
					// Manipulador genérico para todas las direcciones
					swipe:function(event, direction, distance, duration, fingerCount, fingerData) {
						if (direction == 'right' || direction == 'left')
						{
							moveSlides($(this), direction);
						}
					}
				});

				// Establecemos opciones más tarde
				$('.contenedor-info-item').swipe({
					fingers:1
				});
			});

			// A los bullets de abajo les indicamos
			// su función
			$('.menu-link-anchor').on('click', function(e) {
				e.preventDefault();
				moveSlides($(this), null);
			});

			// Función para mover los Slides
			function moveSlides(element, direction)
			{
				// Esta variable hace que la animación sea
				// desde izquierda o desde derecha. Por defecto "-1"
				// que es desde derecha.
				var dir = -1;
				
				// En caso de que sea un swipe left
				if (direction == 'left')
				{
					// Si es el primer elemento no hacemos nada y finalizamos
					if ($('.contenedor-info').children().length < element.data('target'))
					{
						return false;
					}

					dir = 1;
					num = element.data('target') + 1;

					// Obtenemos la verdadera sección a animar
					element = $('.contenedor-info').find("[data-target='" + num + "']");
				}
				else if (direction == 'right')
				{
					// Si es el último elemento no hacemos nada y finalizamos
					if (1 > element.data('target'))
					{
						return false;
					}

					num = element.data('target') - 1;

					// Obtenemos la verdadera sección a animar
					element = $('.contenedor-info').find("[data-target='" + num + "']");
				}

				// active es la sección activa
				// target es el número que la identifica
				// section es la nueva sección que se quiere mostrar
				// position es la posición en que se quiere colocar la nueva sección
				var active = $('.contenedor-info-item-active');
				var target = element.data('target');
				var section = element;

				if (element.hasClass('menu-link-anchor'))
				{
					section = $('.contenedor-info').find("[data-target='" + target + "']");
				}

				var position = section.width() * dir - 80;

				console.log(active)
				console.log(target)
				console.log(section)
				console.log(position)
				
				// Con este if, evitamos que se ejecute la animación
				// para la sección que ya está visitible
				if (! section.hasClass('contenedor-info-item-active'))
				{
					// Modificamos la altura de las capas
					// para que la nueva esté arriba
					active.css('z-index', 1);
					section.css('z-index', 2);

					// Realizamos la animación hasta la "posición"
					section.animate({
						// Primero lo colocamos en la posición desde la que nos interesa que inicie la animación
						// la sección que debe aparecer. Cambiamos la posición con una animación porque no responde
						// de otra forma
						left: position
					}, {
						duration: 1, // Le damos de tiempo 1 ms porque queremos el cambio inmediato
						complete: function() {
							// Al colocar la sección donde queremos, emepzamos la animación a mostrar
							section.animate({
								left: 0
							}, {
								duration: 1000,
								easing: 'easeOutExpo',
								start: function() {
									// Al empezar la animaicón hacemos que los links 
									// no tengan ninguna función para que no haya
									// un mal funcionamiento
									$('.menu-link-anchor').off('click');
								},
								complete: function() {
									// Al finalizar la animación
									
									// Hacemos aparecer el texto
									section.find('.info-content').fadeIn('fast');

									// Para no liarnos, les cambiamos el nombre a las variables
									// "active" será "old_active" y "section" será "new_active"
									var old_active = active;
									var new_active = section;

									// Cambiamos la clase que identifica a la
									// sección activa
									old_active.removeClass('contenedor-info-item-active');
									new_active.addClass('contenedor-info-item-active');

									// Hacemos que todas las secciones tengan
									// la misma altura, excepto la activa que
									// que estará por encima
									$('.contenedor-info-item').each(function() {
										$(this).css('z-index', 0);

										if ($(this).hasClass('contenedor-info-item-active'))
										{
											$(this).css('z-index', 1);
										}
										else
										{
											$(this).find('.info-content').fadeOut('fast');
										}
									});

									// Volvemos a darles la función a los
									// bullets de la izquierda
									$('.menu-link-anchor').on('click', function() {
										moveSlides($(this), null);
									});
								}
							});
						}
					});
				}
			}
		</script>
	</body>
</html>
